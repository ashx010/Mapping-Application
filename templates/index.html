{% load static %}
<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Mapping</title>

	<!-- CSS -->

	<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" />


	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
	<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
	<script src="https://unpkg.com/esri-leaflet@2.3.2/dist/esri-leaflet.js"></script>

	<link rel="stylesheet" href="{% static 'style.css' %}" />

	<style>
		#map {
			height: 100%;
			border-radius: 1rem 10rem 1rem 1rem;
			filter: drop-shadow(0px 0px 10px black);
		}
	</style>

</head>

<body>
	<div class="preloading">
		<div class="load-square"></div>
		<div class="load-circle"></div>
		<div class="preloader">
			<div id="preloading-title" class="gradient-text"></div>
		</div>
	</div>
	<div class="container-fluid bodymain">
		<div class="left_panel">
			<div class="l1_panel map-container">
				<div id="map"></div>
			</div>
			<div class="l2_panel buttons-navs">
				<div class="select open-popup" name="settings">Settings</div>
				<div class="select">Map Download</div>
				<div class="select open-popup" name="info">Show Info</div>
				<div class="select">Download Data</div>
			</div>
			<div class="popupwindow has-scrollbar">
				<div class="popup-heading"></div>
				<div class="exit-cross">x</div>
				<div class="popup-content info" name="info">
					<div class="buttons-navs">
						<div class="select active" name="country">Country</div>
						<div class="select" name="state">State</div>
						<div class="select" name="branch">Branch</div>
						<div class="select" name="routes">Routes</div>
					</div>
					<div class="info-content has-scrollbar">
						<table class="table-custom" name="country">
							<thead>
								<tr>
									<th>Country Name</th>
									<th>Capital</th>
									<th>States</th>
									<th>Population</th>
								</tr>
							</thead>
							<tbody class="table-group-divider table-body-custom" id="table-country"></tbody>
						</table>
						<table class="table-custom" name="state" style="display: none;">
							<thead>
								<tr>
									<th>Country</th>
									<th>State Name</th>
									<th>Population</th>
								</tr>
							</thead>
							<tbody class="table-group-divider table-body-custom" id="table-state"></tbody>
						</table>
						<table class="table-custom" name="branch" style="display: none;">
							<thead>
								<tr>
									<th>Shop Name</th>
									<th>Sales</th>
									<th>State</th>
								</tr>
							</thead>
							<tbody class="table-group-divider table-body-custom" id="table-branch"></tbody>
						</table>
						<table class="table-custom" name="routes" style="display: none;">
							<thead>
								<tr>
									<th>Shop 1</th>
									<th>Shop 2</th>
								</tr>
							</thead>
							<tbody class="table-group-divider table-body-custom" id="table-routes"></tbody>
						</table>
					</div>
				</div>
				<div class="popup-content settings" name="settings">
					<a href="/admin" target="_blank" class="select" name="admin_panel">Admin Panel</a>
					<a href="/about" target="_blank" class="select" name="about">About</a>
					<a href="/contact" target="_blank" class="select" name="contact">Contact</a>
					<a href="https://profolio.tech" target="_blank" class="select" name="portfolio">Portfolio</a>
				</div>
			</div>
		</div>
		<div class="right_panel">
			<div class="r1_panel">
				<form id="form">
					<div class="country-sel select active" data="country" id="country-sel">Country</div>
					<div class="state-sel select" data="state" id="state-sel">State</div>
					<div class="branch-sel select" data="branch" id="branch-sel">Branch</div>
					<div class="routes-sel disabled" data="routes" id="routes-sel">Routes</div>
				</form>
				<div class="btn-form">
					<div class="submit-btn select" data="submit" id="submit-btn">Submit</div>
					<div class="reset-btn select" data="reset" id="reset-btn">Reset</div>
				</div>
			</div>
			<div class="r2_panel">
				<div class="r2-heading">Country</div>
				<ul class="selection-area has-scrollbar">
				</ul>
			</div>
		</div>

		<div class="notification"></div>
	</div>

	<script type="text/javascript">

		var map = L.map('map', { zoomControl: false }).setView([23.7, 78], 3);

		L.control.zoom({ position: 'bottomright' }).addTo(map);

		L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
			maxZoom: 19,
			attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
		}).addTo(map);

		// L.tileLayer('https://{s}.google.com/vt?lyrs=m&x={x}&y={y}&z={z}', {
		// 	maxZoom: 20,
		// 	subdomains: ['mt0', 'mt1', 'mt2', 'mt3']
		// }).addTo(map);

		var LeafIcon1 = L.Icon.extend({
			options: {
				shadowUrl: "{% static 'images/shadow.png' %}",
				iconSize: [25, 25],
				shadowSize: [10, 10]
			}
		});

		var LeafIcon = L.Icon.extend({
			options: {
				shadowUrl: "{% static 'images/shadow.png' %}",
				iconSize: [40, 40],
				shadowSize: [20, 20],
				iconAnchor: [19, 38],
				shadowAnchor: [8, 13],
				popupAnchor: [0, -32]
			}
		});

		var flspin = new LeafIcon({ iconUrl: 'images/pinfls.png' });
		var banklarge = new LeafIcon({ iconUrl: 'images/largebank.png' });
		var bankmed = new LeafIcon({ iconUrl: 'images/medbank.png' });
		var banksmall = new LeafIcon({ iconUrl: 'images/smlbank.png' });


	</script>

	<script src="{% static 'script.js' %}"></script>
</body>

</html>